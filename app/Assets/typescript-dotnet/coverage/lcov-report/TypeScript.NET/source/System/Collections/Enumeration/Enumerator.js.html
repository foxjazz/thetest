<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for TypeScript.NET\source\System\Collections\Enumeration\Enumerator.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../../index.html">all files</a> / <a href="index.html">TypeScript.NET/source/System/Collections/Enumeration/</a> Enumerator.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">66.67% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>80/120</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">56.67% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>51/90</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">75% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>12/16</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">68.47% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>76/111</span>
      </div>
    </div>
  </div>
  <div class='status-line medium'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">384×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">90×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">89×</span>
<span class="cline-any cline-yes">56×</span>
<span class="cline-any cline-yes">33×</span>
<span class="cline-any cline-yes">28×</span>
<span class="cline-any cline-yes">28×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">55×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">94×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">145×</span>
<span class="cline-any cline-yes">145×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">145×</span>
<span class="cline-any cline-yes">144×</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-yes">222×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">94×</span>
<span class="cline-any cline-yes">46×</span>
<span class="cline-any cline-yes">46×</span>
<span class="cline-any cline-yes">46×</span>
<span class="cline-any cline-yes">289×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">46×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">48×</span>
<span class="cline-any cline-yes">46×</span>
<span class="cline-any cline-yes">46×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * @author electricessence / https://github.com/electricessence/
 * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md
 */
(function (factory) {
    <span class="missing-if-branch" title="else path not taken" >E</span>if (typeof module === 'object' &amp;&amp; typeof module.exports === 'object') {
        var v = factory(require, exports); <span class="missing-if-branch" title="if path not taken" >I</span>if (v !== undefined) <span class="cstat-no" title="statement not covered" >module.exports = v;</span>
    }
    else <span class="cstat-no" title="statement not covered" >if (typeof define === 'function' &amp;&amp; define.amd) {</span>
<span class="cstat-no" title="statement not covered" >        define(["require", "exports", "../../Disposable/dispose", "../../Types", "./ArrayEnumerator", "./IndexEnumerator", "./UnsupportedEnumerableException", "./InfiniteEnumerator", "./EmptyEnumerator", "./IteratorEnumerator"], factory);</span>
    }
})(function (require, exports) {
    "use strict";
    var dispose_1 = require("../../Disposable/dispose");
    var Types_1 = require("../../Types");
    var ArrayEnumerator_1 = require("./ArrayEnumerator");
    var IndexEnumerator_1 = require("./IndexEnumerator");
    var UnsupportedEnumerableException_1 = require("./UnsupportedEnumerableException");
    var InfiniteEnumerator_1 = require("./InfiniteEnumerator");
    var EmptyEnumerator_1 = require("./EmptyEnumerator");
    var IteratorEnumerator_1 = require("./IteratorEnumerator");
    var VOID0 = void (0), STRING_EMPTY = "", ENDLESS_EXCEPTION_MESSAGE = 'Cannot call forEach on an endless enumerable. ' +
        'Would result in an infinite loop that could hang the current process.';
    function throwIfEndless(isEndless) {
        <span class="missing-if-branch" title="if path not taken" >I</span>if (isEndless)
<span class="cstat-no" title="statement not covered" >            throw new UnsupportedEnumerableException_1.UnsupportedEnumerableException(ENDLESS_EXCEPTION_MESSAGE);</span>
    }
    exports.throwIfEndless = throwIfEndless;
<span class="fstat-no" title="function not covered" >    function initArrayFrom(source, max) {</span>
<span class="cstat-no" title="statement not covered" >        if (max === void 0) { <span class="cstat-no" title="statement not covered" >max = Infinity; </span>}</span>
<span class="cstat-no" title="statement not covered" >        if (Array.isArray(source) || Types_1.Type.isString(source)) {</span>
<span class="cstat-no" title="statement not covered" >            var len = Math.min(source.length, max);</span>
<span class="cstat-no" title="statement not covered" >            if (isFinite(len)) {</span>
<span class="cstat-no" title="statement not covered" >                if (len &gt; 65535)</span>
<span class="cstat-no" title="statement not covered" >                    return new Array(len);</span>
<span class="cstat-no" title="statement not covered" >                var result = [];</span>
<span class="cstat-no" title="statement not covered" >                result.length = len;</span>
<span class="cstat-no" title="statement not covered" >                return result;</span>
            }
        }
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
    function from(source) {
        if (!source)
            return EmptyEnumerator_1.EmptyEnumerator;
        if (Array.isArray(source))
            return new ArrayEnumerator_1.ArrayEnumerator(source);
        if (Types_1.Type.isArrayLike(source)) {
            return new IndexEnumerator_1.IndexEnumerator(function () {
                return {
                    source: source,
                    length: source.length,
                    pointer: 0,
                    step: 1
                };
            });
        }
        if (!Types_1.Type.isPrimitive(source)) {
            if (isEnumerable(source))
                return source.getEnumerator();
            if (Types_1.Type.isFunction(source))
                return new InfiniteEnumerator_1.InfiniteEnumerator(source);
            <span class="missing-if-branch" title="if path not taken" >I</span>if (isIterator(source))
<span class="cstat-no" title="statement not covered" >                return new IteratorEnumerator_1.IteratorEnumerator(source);</span>
        }
        throw new UnsupportedEnumerableException_1.UnsupportedEnumerableException();
    }
    exports.from = from;
    function isEnumerable(instance) {
        return Types_1.Type.hasMemberOfType(instance, "getEnumerator", Types_1.Type.FUNCTION);
    }
    exports.isEnumerable = isEnumerable;
    function isEnumerableOrArrayLike(instance) {
        return Types_1.Type.isArrayLike(instance) || isEnumerable(instance);
    }
    exports.isEnumerableOrArrayLike = isEnumerableOrArrayLike;
    function isEnumerator(instance) {
        return Types_1.Type.hasMemberOfType(instance, "moveNext", Types_1.Type.FUNCTION);
    }
    exports.isEnumerator = isEnumerator;
    function isIterator(instance) {
        return Types_1.Type.hasMemberOfType(instance, "next", Types_1.Type.FUNCTION);
    }
    exports.isIterator = isIterator;
    function forEach(e, action, max) {
        if (max === void 0) { max = Infinity; }
        <span class="missing-if-branch" title="if path not taken" >I</span>if (e === STRING_EMPTY)
<span class="cstat-no" title="statement not covered" >            return 0;</span>
        if (e &amp;&amp; max &gt; 0) {
            if (Types_1.Type.isArrayLike(e)) {
                throwIfEndless(!isFinite(max) &amp;&amp; !isFinite(e.length));
                var i = 0;
                for (; i &lt; Math.min(e.length, max); i++) {
                    if (action(e[i], i) === false)
                        break;
                }
                return i;
            }
            if (isEnumerator(e)) {
                throwIfEndless(!isFinite(max) &amp;&amp; e.isEndless);
                var i = 0;
                while (max &gt; i &amp;&amp; e.moveNext()) {
                    if (action(e.current, i++) === false)
                        break;
                }
                return i;
            }
            if (isEnumerable(e)) {
                throwIfEndless(!isFinite(max) &amp;&amp; e.isEndless);
                return dispose_1.using(e.getEnumerator(), function (f) { return forEach(f, action, max); });
            }
            <span class="missing-if-branch" title="if path not taken" >I</span>if (isIterator(e)) {
<span class="cstat-no" title="statement not covered" >                throwIfEndless(!isFinite(max));</span>
<span class="cstat-no" title="statement not covered" >                var i = 0, r = void 0;</span>
<span class="cstat-no" title="statement not covered" >                while (max &gt; i &amp;&amp; !(r = e.next()).done) {</span>
<span class="cstat-no" title="statement not covered" >                    if (action(r.value, i++) === false)</span>
<span class="cstat-no" title="statement not covered" >                        break;</span>
                }
<span class="cstat-no" title="statement not covered" >                return i;</span>
            }
        }
        return -1;
    }
    exports.forEach = forEach;
    function toArray(source, max) {
        <span class="missing-if-branch" title="else path not taken" >E</span>if (max === void 0) { max = Infinity; }
        <span class="missing-if-branch" title="if path not taken" >I</span>if (source === STRING_EMPTY)
<span class="cstat-no" title="statement not covered" >            return [];</span>
        <span class="missing-if-branch" title="else path not taken" >E</span>if (!isFinite(max) &amp;&amp; Array.isArray(source))
            return source.slice();
<span class="cstat-no" title="statement not covered" >        var result = initArrayFrom(source, max);</span>
<span class="cstat-no" title="statement not covered" >        if (-1 === forEach(source, <span class="fstat-no" title="function not covered" >function (e, i) {</span> <span class="cstat-no" title="statement not covered" >result[i] = e; </span>}, max))</span>
<span class="cstat-no" title="statement not covered" >            throw new UnsupportedEnumerableException_1.UnsupportedEnumerableException();</span>
<span class="cstat-no" title="statement not covered" >        return result;</span>
    }
    exports.toArray = toArray;
<span class="fstat-no" title="function not covered" >    function map(source, selector, max) {</span>
<span class="cstat-no" title="statement not covered" >        if (max === void 0) { <span class="cstat-no" title="statement not covered" >max = Infinity; </span>}</span>
<span class="cstat-no" title="statement not covered" >        if (source === STRING_EMPTY)</span>
<span class="cstat-no" title="statement not covered" >            return [];</span>
<span class="cstat-no" title="statement not covered" >        if (!isFinite(max) &amp;&amp; Array.isArray(source))</span>
<span class="cstat-no" title="statement not covered" >            return source.map(selector);</span>
<span class="cstat-no" title="statement not covered" >        var result = initArrayFrom(source, max);</span>
<span class="cstat-no" title="statement not covered" >        if (-1 === forEach(source, <span class="fstat-no" title="function not covered" >function (e, i) {</span> <span class="cstat-no" title="statement not covered" >result[i] = selector(e); </span>}, max))</span>
<span class="cstat-no" title="statement not covered" >            throw new UnsupportedEnumerableException_1.UnsupportedEnumerableException();</span>
<span class="cstat-no" title="statement not covered" >        return result;</span>
    }
    exports.map = map;
});
//# sourceMappingURL=Enumerator.js.map</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue May 24 2016 02:55:51 GMT-0700 (Pacific Daylight Time)
</div>
</div>
<script src="../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../sorter.js"></script>
</body>
</html>
